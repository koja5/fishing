"use strict";(self.webpackChunkFischereiverband=self.webpackChunkFischereiverband||[]).push([[999],{999:(Le,P,r)=>{r.r(P),r.d(P,{OwnerModule:()=>qe});var g=r(6895),k=r(1760),S=r(677),Q=r(7364),l=r(4170),t=r(4650),h=r(6142),p=r(6901);const E=["grid"];let q=(()=>{class a{constructor(){this.path="grids/owner",this.file="observation-sheet.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-observation-sheet"]],viewQuery:function(i,n){if(1&i&&t.Gf(E,5),2&i){let o;t.iGM(o=t.CRH())&&(n.grid=o.first)}},decls:5,vars:4,consts:[[1,"alert-message","col-md-12","text-center","mb-1"],[1,"explanation"],[3,"mainExplanation"],[3,"path","file","height"],["grid",""]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-explanation-mark",2),t.qZA()(),t._UZ(3,"app-dynamic-grid",3,4)),2&i&&(t.xp6(2),t.Q6J("mainExplanation","observationSheet.mainExplanation"),t.xp6(1),t.Q6J("path",n.path)("file",n.file)("height","calc(100vh - 15vh)"))},dependencies:[h.d,p.N]})}return a})();var N=r(8541),C=r(3794),f=r(9992),u=r(8283),b=r(5696),c=r(4006),x=r(392),A=r(8012),M=r(3382),_=r(3662),d=r(7296);const L=["grid"],G=["dialogConfirm"],B=["dialogRequestForAdditionalChanges"],H=["dialogNoHaveEntry"];function I(a,s){if(1&a&&(t.TgZ(0,"div")(1,"ngb-alert",18)(2,"div",19),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA()()()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(4,4,"actionMessage.reportCompleted")," ",t.xi3(5,6,e.fishStockingReport.date_completed,"dd.MM.yyyy. HH:mm"),"")}}function U(a,s){1&a&&(t.TgZ(0,"div")(1,"ngb-alert",18)(2,"div",19),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(4,3,"actionMessage.reportCompletedNotYet")))}function Y(a,s){if(1&a&&(t.TgZ(0,"div",15),t.YNc(1,I,6,9,"div",0),t.YNc(2,U,5,5,"div",0),t.TgZ(3,"div",16),t._UZ(4,"app-explanation-mark",17),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.fishStockingReport&&e.fishStockingReport.status===e.fishStockingReportEnum.completed),t.xp6(1),t.Q6J("ngIf",e.data&&e.data.length&&(!e.fishStockingReport||e.fishStockingReport.status===e.fishStockingReportEnum.draft)),t.xp6(2),t.Q6J("mainExplanation","fishStocking.mainExplanation")}}function z(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function K(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function V(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function W(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.completeReports())}),t._UZ(1,"span",26),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.completeReport"),""))}function j(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.requestForAdditionalChanges())}),t._UZ(1,"span",28),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.requestAdminToChangeStatus"),""))}function X(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.noHaveFishStockingEntryDialog())}),t._UZ(1,"span",30),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.noHaveEntry"),""))}function $(a,s){if(1&a&&(t.TgZ(0,"div",20)(1,"div",21),t.YNc(2,W,4,3,"button",22),t.YNc(3,j,4,3,"button",23),t.YNc(4,X,4,3,"button",24),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.data&&e.data.length&&(!e.fishStockingReport||e.fishStockingReport.status===e.fishStockingReportEnum.draft)),t.xp6(1),t.Q6J("ngIf",e.fishStockingReport&&e.fishStockingReport.status===e.fishStockingReportEnum.completed),t.xp6(1),t.Q6J("ngIf",!e.fishStockingReport||e.fishStockingReport.status!==e.fishStockingReportEnum.completed)}}function tt(a,s){1&a&&(t._UZ(0,"app-no-data",31),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.selectFbzToGetData"))("image","../../../assets/images/icons/filter.png")}function et(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-dynamic-grid",33,34),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submit(n))})("refreshParentComponent",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.refreshGrid())}),t.qZA()}if(2&a){const e=t.oxw(3);t.Q6J("path",e.path)("file",e.file)("data",e.data)("additionalData",e.selectedRegistry)("height","calc(100vh - 32vh)")("disableCRUD",e.fishStockingReport&&e.fishStockingReport.status===e.fishStockingReportEnum.completed)}}function at(a,s){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,et,2,6,"app-dynamic-grid",32),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.loading)}}function nt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",6),t.YNc(2,Y,5,3,"div",7),t.TgZ(3,"div",8)(4,"label"),t._uU(5),t.ALo(6,"translate"),t._UZ(7,"app-explanation-mark",9),t.qZA(),t.TgZ(8,"ng-select",10),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.selectedManagementRegistryId=n)})("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onChange(n))}),t.ALo(9,"translate"),t.YNc(10,z,2,2,"ng-template",11),t.YNc(11,K,2,2,"ng-template",12),t.YNc(12,V,2,2,"ng-template",13),t.qZA()(),t.YNc(13,$,5,3,"div",14),t.qZA(),t.YNc(14,tt,2,4,"app-no-data",1),t.YNc(15,at,2,1,"div",0),t.qZA()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.selectedManagementRegistryId),t.xp6(3),t.hij("",t.lcZ(6,10,"commonFields.fbz")," "),t.xp6(2),t.Q6J("explanation","fishStocking.explanation"),t.xp6(1),t.Q6J("items",e.managementRegistersData)("ngModel",e.selectedManagementRegistryId)("placeholder",t.lcZ(9,12,"commonFields.chooseManagementRegistry"))("searchable",!0),t.xp6(5),t.Q6J("ngIf",e.selectedManagementRegistryId&&!e.loading),t.xp6(1),t.Q6J("ngIf",!e.selectedManagementRegistry),t.xp6(1),t.Q6J("ngIf",e.selectedManagementRegistry)}}function it(a,s){1&a&&t._UZ(0,"app-loader")}function ot(a,s){1&a&&(t._UZ(0,"app-no-data",31),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.noManagementRegisterForYou"))("image","../../../assets/images/icons/no-data-for-user.png")}let st=(()=>{class a{constructor(e,i,n){this._service=e,this._toastr=i,this._storageService=n,this.path="grids/owner",this.file="fish-stocking.json",this.fishStockingReport=new N.V,this.loading=!0,this.fishStockingReportEnum=C.o}unsavedChanges(){if(this.grid)return this.grid.unsavedChanges()}ngOnInit(){this._service.callGetMethod("/api/owner/getManagementRegistersData","").subscribe(e=>{this.managementRegistersData=e,e.length?(this.selectedManagementRegistry=this._storageService.getLocalStorage("selectedManagementRegistry")?this._storageService.getLocalStorage("selectedManagementRegistry"):e[0],this.selectedManagementRegistryId=this.selectedManagementRegistry.id,this.initializeFishStocking()):this.loading=!1})}initializeFishStocking(){this.getFishStockingReport(),this.getAllFishStocking()}getFishStockingReport(){this._service.callGetMethod("/api/owner/getFishStockingReport?fbz="+this.selectedManagementRegistry.fbz).subscribe(e=>{this.fishStockingReport=e?e[0]:new N.V})}getAllFishStocking(){this.loading=!0,this._service.callGetMethod("/api/owner/getAllFishStocking?fbz="+this.selectedManagementRegistry.fbz+"&year="+this.selectedManagementRegistry.year,"").subscribe(e=>{this.data=e,this.loading=!1})}checkCompletedStatusReport(){return this.fishStockingReport&&this.fishStockingReport.status===C.o.completed}onChange(e){this.selectedManagementRegistry=e,this.selectedManagementRegistry?(this.selectedManagementRegistryId=e.id,this._storageService.setLocalStorage("selectedManagementRegistry",this.selectedManagementRegistry),this.initializeFishStocking()):(this._storageService.removeLocalStorage("selectedManagementRegistry"),this.selectedManagementRegistryId=null)}submit(e){e.fbz=this.selectedManagementRegistry.fbz,e.year=this.selectedManagementRegistry.year,this._service.callPostMethod("/api/owner/setFishStocking",e).subscribe(i=>{i&&(this.getAllFishStocking(),this._toastr.showSuccess())})}refreshGrid(){this.getAllFishStocking()}completeReports(){this.dialogConfirm.showQuestionModal()}requestForAdditionalChanges(){this.dialogRequestForAdditionalChanges.showQuestionModal()}confirmCompleteReport(){this.fishStockingReport={fbz:this.selectedManagementRegistry.fbz,year:this.selectedManagementRegistry.year,status:C.o.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/completeFishStockingReport",this.fishStockingReport).subscribe(e=>{e&&(this.getAllFishStocking(),this._toastr.showSuccess())})}requestToAdminForAdditionalChanges(){this._service.callPostMethod("/api/owner/requestToAdminForAdditionalFishStockingReportChanges",this.fishStockingReport).subscribe(e=>{e&&(this.getAllFishStocking(),this._toastr.showSuccess())})}noHaveFishStockingEntryDialog(){this.dialogNoHaveEntry.showQuestionModal()}confirmNoHaveFishStockingEntry(){this.loading=!0,this.fishStockingReport={fbz:this.selectedManagementRegistry.fbz,year:this.selectedManagementRegistry.year,status:C.o.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/noHaveFishStockingEntry",this.fishStockingReport).subscribe(e=>{e&&(this.refreshGrid(),this._toastr.showSuccess())})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(f.f),t.Y36(u.l),t.Y36(b.V))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-fish-stocking"]],viewQuery:function(i,n){if(1&i&&(t.Gf(L,5),t.Gf(G,5),t.Gf(B,5),t.Gf(H,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.grid=o.first),t.iGM(o=t.CRH())&&(n.dialogConfirm=o.first),t.iGM(o=t.CRH())&&(n.dialogRequestForAdditionalChanges=o.first),t.iGM(o=t.CRH())&&(n.dialogNoHaveEntry=o.first)}},decls:21,vars:39,consts:[[4,"ngIf"],[3,"text","image",4,"ngIf"],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirm",""],["dialogNoHaveEntry",""],["dialogRequestForAdditionalChanges",""],[1,"row"],["class","alert-message col-md-12 text-center",4,"ngIf"],[1,"mb-2","col-md-3"],[3,"explanation"],["bindLabel","fbz","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-value-tmp",""],["ng-option-tmp",""],["class","col-md-9",4,"ngIf"],[1,"alert-message","col-md-12","text-center"],[1,"explanation"],[3,"mainExplanation"],[3,"type","dismissible"],[1,"alert-body"],[1,"col-md-9"],[1,"d-flex","justify-content-end","action"],["class","btn btn-success mb-1",3,"click",4,"ngIf"],["class","btn btn-primary mb-1",3,"click",4,"ngIf"],["class","btn btn-outline-danger mb-1 ml-1",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-1",3,"click"],[1,"fa","fa-check"],[1,"btn","btn-primary","mb-1",3,"click"],[1,"fa","fa-question-circle-o"],[1,"btn","btn-outline-danger","mb-1","ml-1",3,"click"],[1,"fa","fa-times"],[3,"text","image"],[3,"path","file","data","additionalData","height","disableCRUD","submit","refreshParentComponent",4,"ngIf"],[3,"path","file","data","additionalData","height","disableCRUD","submit","refreshParentComponent"],["grid",""]],template:function(i,n){1&i&&(t.YNc(0,nt,16,14,"div",0),t.YNc(1,it,1,0,"app-loader",0),t.YNc(2,ot,2,4,"app-no-data",1),t.TgZ(3,"app-dialog-confirm",2,3),t.NdJ("confirm",function(){return n.confirmCompleteReport()}),t.ALo(5,"translate"),t.ALo(6,"translate"),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"app-dialog-confirm",2,4),t.NdJ("confirm",function(){return n.confirmNoHaveFishStockingEntry()}),t.ALo(11,"translate"),t.ALo(12,"translate"),t.ALo(13,"translate"),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"app-dialog-confirm",2,5),t.NdJ("confirm",function(){return n.requestToAdminForAdditionalChanges()}),t.ALo(17,"translate"),t.ALo(18,"translate"),t.ALo(19,"translate"),t.ALo(20,"translate"),t.qZA()),2&i&&(t.Q6J("ngIf",n.managementRegistersData&&n.managementRegistersData.length),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!(n.managementRegistersData&&n.managementRegistersData.length||n.loading)),t.xp6(1),t.Q6J("title",t.lcZ(5,15,"actionMessage.dialogCompleteReportQuestionTitle"))("content",t.lcZ(6,17,"actionMessage.dialogCompleteReportQuestionText"))("confirmButtonText",t.lcZ(7,19,"actionMessage.dialogCompleteReportQuestionYes"))("cancelButtonText",t.lcZ(8,21,"actionMessage.dialogCompleteReportQuestionNo")),t.xp6(6),t.Q6J("title",t.lcZ(11,23,"actionMessage.dialogNoHaveReportsTitle"))("content",t.lcZ(12,25,"actionMessage.dialogNoHaveReportsText"))("confirmButtonText",t.lcZ(13,27,"generalDialog.yes"))("cancelButtonText",t.lcZ(14,29,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(17,31,"actionMessage.dialogRequestForAdditionalChangesTitle"))("content",t.lcZ(18,33,"actionMessage.dialogRequestForAdditionalChangesText"))("confirmButtonText",t.lcZ(19,35,"generalDialog.yes"))("cancelButtonText",t.lcZ(20,37,"generalDialog.no")))},dependencies:[g.O5,c.JJ,c.On,h.d,p.N,l.w9,l.Z2,l.bb,x.p,A.R,M.d,_.xm,g.uU,d.X$],styles:['.ngx-datatable.material[_ngcontent-%COMP%]{background:#fff;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.ngx-datatable.material.striped[_ngcontent-%COMP%]   .datatable-row-odd[_ngcontent-%COMP%]{background:#eee}.ngx-datatable.material.single-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%], .ngx-datatable.material.single-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable.material.multi-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%], .ngx-datatable.material.multi-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable.material.multi-click-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%], .ngx-datatable.material.multi-click-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]   .datatable-row-group[_ngcontent-%COMP%]{background-color:#304ffe;color:#fff}.ngx-datatable.material.single-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:hover, .ngx-datatable.material.single-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable.material.multi-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:hover, .ngx-datatable.material.multi-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable.material.multi-click-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:hover, .ngx-datatable.material.multi-click-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background-color:#193ae4;color:#fff}.ngx-datatable.material.single-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:focus, .ngx-datatable.material.single-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:focus   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable.material.multi-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:focus, .ngx-datatable.material.multi-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:focus   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable.material.multi-click-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:focus, .ngx-datatable.material.multi-click-selection[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]:focus   .datatable-row-group[_ngcontent-%COMP%]{background-color:#2041ef;color:#fff}.ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover, .ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background-color:#eee;transition-property:background;transition-duration:.3s;transition-timing-function:linear}.ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:focus, .ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:focus   .datatable-row-group[_ngcontent-%COMP%]{background-color:#ddd}.ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]:hover, .ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background-color:#eee;transition-property:background;transition-duration:.3s;transition-timing-function:linear}.ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]:focus, .ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]:focus   .datatable-row-group[_ngcontent-%COMP%]{background-color:#ddd}.ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell.active[_ngcontent-%COMP%], .ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell.active[_ngcontent-%COMP%]   .datatable-row-group[_ngcontent-%COMP%]{background-color:#304ffe;color:#fff}.ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell.active[_ngcontent-%COMP%]:hover, .ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell.active[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background-color:#193ae4;color:#fff}.ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell.active[_ngcontent-%COMP%]:focus, .ngx-datatable.material.cell-selection[_ngcontent-%COMP%]   .datatable-body-cell.active[_ngcontent-%COMP%]:focus   .datatable-row-group[_ngcontent-%COMP%]{background-color:#2041ef;color:#fff}.ngx-datatable.material[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{height:50px;text-align:left;padding:.5rem 1.2rem;vertical-align:top;border-top:0}.ngx-datatable.material[_ngcontent-%COMP%]   .loading-row[_ngcontent-%COMP%]{text-align:left;padding:.5rem 1.2rem;vertical-align:top;border-top:0}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-row-left[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-row-left[_ngcontent-%COMP%]{background-color:#fff;background-position:100% 0;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==)}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-row-right[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-row-right[_ngcontent-%COMP%]{background-position:0 0;background-color:#fff;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQI12PQkNdi1VTQ5gbSwkAsDQARLAIGtOSFUAAAAABJRU5ErkJggg==)}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{text-align:left;padding:.9rem 1.2rem;font-weight:400;background-color:#fff;color:#0000008a;vertical-align:bottom;font-size:12px;font-weight:500}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .datatable-header-cell-wrapper[_ngcontent-%COMP%]{position:relative}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell.longpress[_ngcontent-%COMP%]   .draggable[_ngcontent-%COMP%]:after{transition:transform .4s ease,opacity .4s ease;opacity:.5;transform:scale(1)}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .draggable[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:50%;left:50%;margin:-30px 0 0 -30px;height:60px;width:60px;background:#eee;border-radius:100%;opacity:1;filter:none;transform:scale(0);z-index:9999;pointer-events:none}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell.dragging[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{border-right:none}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{border-right:solid 1px #eee}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]{position:relative}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-row-detail[_ngcontent-%COMP%]{background:#f5f5f5;padding:10px}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-group-header[_ngcontent-%COMP%]{background:#f5f5f5;border-bottom:solid 1px #d9d8d9;border-top:solid 1px #d9d8d9}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-group-cell[_ngcontent-%COMP%]{text-align:left;padding:.9rem 1.2rem;vertical-align:top;border-top:0;color:#000000de;transition:width .3s ease;font-size:14px;font-weight:400}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .progress-linear[_ngcontent-%COMP%]{display:block;position:sticky;width:100%;height:5px;padding:0;margin:0;top:0}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .progress-linear[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:block;position:relative;overflow:hidden;width:100%;height:5px;transform:translate(0) scale(1);background-color:#aad1f9}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .progress-linear[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{transition:all .2s linear;animation:_ngcontent-%COMP%_query .8s infinite cubic-bezier(.39,.575,.565,1);transition:transform .2s linear;background-color:#106cc8;position:absolute;left:0;top:0;bottom:0;width:100%;height:5px}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);font-size:12px;font-weight:400;color:#0000008a}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{line-height:50px;height:50px;padding:0 1.2rem}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]{margin:0 10px}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{vertical-align:middle}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00000042!important;background-color:transparent!important}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#9e9e9e33;font-weight:700}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22px;min-width:24px;line-height:22px;padding:0 6px;border-radius:3px;margin:6px 3px;text-align:center;vertical-align:top;color:#0000008a;text-decoration:none;vertical-align:bottom}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000000bf;background-color:#9e9e9e33}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-left[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-skip[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-right[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-prev[_ngcontent-%COMP%]{font-size:20px;line-height:20px;padding:0 3px}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-summary-row[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%], .ngx-datatable.material[_ngcontent-%COMP%]   .datatable-summary-row[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]:hover{background-color:#ddd}.ngx-datatable.material[_ngcontent-%COMP%]   .datatable-summary-row[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]{font-weight:700}.datatable-checkbox[_ngcontent-%COMP%]{position:relative;margin:0;cursor:pointer;vertical-align:middle;display:inline-block;box-sizing:border-box;padding:0}.datatable-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:relative;margin:0 1rem 0 0;cursor:pointer;outline:none}.datatable-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:before{transition:all .3s ease-in-out;content:"";position:absolute;left:0;z-index:1;width:1rem;height:1rem;border:2px solid #f2f2f2}.datatable-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:rotate(-45deg);height:.5rem;border-color:#009688;border-top-style:none;border-right-style:none}.datatable-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:1rem;height:1rem;background:#fff;cursor:pointer}@keyframes _ngcontent-%COMP%_query{0%{opacity:1;transform:translate(35%) scaleX(.3)}to{opacity:0;transform:translate(-50%) scaleX(0)}}']})}return a})();var rt=r(3735);class lt{}var Z=r(8330),D=r(9308),v=r(9830);class J{}var R=r(9993),F=r(3283);const ct=["modalNewEntrie"];function gt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"p",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.openModalNewEntrie())}),t._UZ(1,"span",13),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"commonFields.createNew")," "))}function dt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"ng-select",10),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.data.fish=n)}),t.YNc(1,gt,4,3,"ng-template",11),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("items",e.allFishes)("bindLabel","name")("bindValue","name")("ngModel",e.data.fish)}}function mt(a,s){1&a&&(t.TgZ(0,"p",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"actionMessage.valueNeedToBeLess")))}function _t(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",15)(1,"h5",16),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",17),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.dismiss("Cross click"))}),t.TgZ(5,"span",18),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",19)(8,"app-dynamic-forms",20,21),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.submitNewEntriesEmitter(n))}),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.Oqu(e.title?e.title:t.lcZ(3,3,"generalDialog.areYouSure")),t.xp6(6),t.Q6J("path","/forms/owner")("file","new-entrie-name-of-fish.json")}}let pt=(()=>{class a{constructor(e,i,n,o,m){this._service=e,this._translate=i,this._toastr=n,this._modalService=o,this._helpService=m,this.submit=new t.vpe}ngOnInit(){this._service.callGetMethod("/api/owner/getAllFishes?fbz="+this.fishCatchFilter.managementRegister.fbz+"&year="+this.fishCatchFilter.managementRegister.year).subscribe(e=>{this.allFishes=e})}calculateStockedFishQuantity(){return this.data.edible_fish_quantity&&this.data.quantity?(this.data.quantity=Number(this.data.quantity),this.data.edible_fish_quantity=Number(this.data.edible_fish_quantity),this.data.quantity>=this.data.edible_fish_quantity?(this.data.stocked_fish_quantity=this.data.quantity-this.data.edible_fish_quantity,this.data.stocked_fish_quantity):""):""}checkValues(){return Number(this.data.quantity)<Number(this.data.edible_fish_quantity)}save(){this._service.callPostMethod("api/owner/setFishCatch",this.data).subscribe(e=>{e&&setTimeout(()=>{this.submit.emit(),this._toastr.showSuccess()},20)})}openModalNewEntrie(){setTimeout(()=>{this.modalDialog=this._modalService.open(this.modal,{centered:!0,windowClass:"modal modal-danger"})},20)}submitNewEntriesEmitter(e){this._helpService.checkUndefinedProperty(e)&&"submit"!=e.type&&this._service.callPostMethod("/api/owner/createNewFishNameEntry",{name:e.name,fbz:this.fishCatchFilter.managementRegister.fbz,year:this.fishCatchFilter.managementRegister.year}).subscribe(n=>{this._service.callGetMethod("/api/owner/getAllFishes?fbz="+this.fishCatchFilter.managementRegister.fbz+"&year="+this.fishCatchFilter.managementRegister.year).subscribe(o=>{this.allFishes=o,this.data.fish=n,this.modalDialog.close()},o=>{this.modalDialog.close()})})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(f.f),t.Y36(d.sK),t.Y36(u.l),t.Y36(_.FF),t.Y36(R.s))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-custom-form-fish-catch"]],viewQuery:function(i,n){if(1&i&&t.Gf(ct,5),2&i){let o;t.iGM(o=t.CRH())&&(n.modal=o.first)}},inputs:{config:"config",data:"data",fishCatchFilter:"fishCatchFilter"},outputs:{submit:"submit"},decls:34,vars:31,consts:[[1,"col-md-12","mb-1"],["name","fish",3,"items","bindLabel","bindValue","ngModel","ngModelChange",4,"ngIf"],[3,"explanation"],["name","quantity",1,"form-control",3,"ngModel","ngModelChange"],["name","edible_fish_quantity",1,"form-control",3,"ngModel","ngModelChange"],["class","color-red",4,"ngIf"],["name","stocked_fish_quantity",1,"form-control",3,"value","disabled"],[1,"text-right","mt-4"],[1,"btn","btn-primary",3,"disabled","click"],["modalNewEntrie",""],["name","fish",3,"items","bindLabel","bindValue","ngModel","ngModelChange"],["ng-footer-tmp",""],[1,"m-0","font-weight-bold","cursor-pointer",3,"click"],[1,"fa","fa-plus-circle"],[1,"color-red"],[1,"modal-header"],["id","myModalLabel160",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["tabindex","0","ngbAutofocus","",1,"modal-body"],[3,"path","file","submit"],["form","dynamicForm"]],template:function(i,n){1&i&&(t.TgZ(0,"form")(1,"div",0)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,dt,2,4,"ng-select",1),t.qZA(),t.TgZ(6,"div",0)(7,"label"),t._uU(8),t.ALo(9,"translate"),t._UZ(10,"app-explanation-mark",2),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",3),t.NdJ("ngModelChange",function(m){return n.data.quantity=m}),t.qZA()(),t.TgZ(13,"div",0)(14,"label"),t._uU(15),t.ALo(16,"translate"),t._UZ(17,"app-explanation-mark",2),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",4),t.NdJ("ngModelChange",function(m){return n.data.edible_fish_quantity=m}),t.qZA(),t.YNc(20,mt,3,3,"p",5),t.qZA(),t.TgZ(21,"div",0)(22,"label"),t._uU(23),t.ALo(24,"translate"),t._UZ(25,"app-explanation-mark",2),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"input",6),t.qZA(),t.TgZ(28,"div",7)(29,"button",8),t.NdJ("click",function(){return n.save()}),t._uU(30),t.ALo(31,"translate"),t.qZA()()(),t.YNc(32,_t,10,5,"ng-template",null,9,t.W1O)),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,15,"commonFields.nameOfFish")),t.xp6(2),t.Q6J("ngIf",n.allFishes),t.xp6(3),t.hij(" ",t.lcZ(9,17,"commonFields.totalQuantity")," "),t.xp6(2),t.Q6J("explanation",t.lcZ(11,19,"explanation.totalQuantity")),t.xp6(2),t.Q6J("ngModel",n.data.quantity),t.xp6(3),t.hij(" ",t.lcZ(16,21,"commonFields.edibleFishQuantity")," "),t.xp6(2),t.Q6J("explanation",t.lcZ(18,23,"explanation.edibleFishQuantity")),t.xp6(2),t.Q6J("ngModel",n.data.edible_fish_quantity),t.xp6(1),t.Q6J("ngIf",n.checkValues()),t.xp6(3),t.hij(" ",t.lcZ(24,25,"commonFields.stockedFishQuantity")," "),t.xp6(2),t.Q6J("explanation",t.lcZ(26,27,"explanation.stockedFishQuantity")),t.xp6(2),t.Q6J("value",n.calculateStockedFishQuantity())("disabled",!0),t.xp6(2),t.Q6J("disabled",n.checkValues()),t.xp6(1),t.Oqu(t.lcZ(31,29,"general.save")))},dependencies:[g.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,F.b,p.N,l.w9,l.x0,d.X$],styles:[".color-red[_ngcontent-%COMP%]{color:red}"]})}return a})();const ht=["grid"],ft=["dialogConfirm"],ut=["dialogRequestForAdditionalChanges"],Ct=["dialogNoHaveEntry"],bt=["modalNewEntrie"];function xt(a,s){if(1&a&&(t.TgZ(0,"div")(1,"ngb-alert",21)(2,"div",22),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA()()()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(4,4,"actionMessage.reportCompleted")," ",t.xi3(5,6,e.fishCatchReport.date_completed,"dd.MM.yyyy. HH:mm"),"")}}function Mt(a,s){1&a&&(t.TgZ(0,"div")(1,"ngb-alert",21)(2,"div",22),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(4,3,"actionMessage.reportCompletedNotYet")))}function vt(a,s){if(1&a&&(t.TgZ(0,"div",18),t.YNc(1,xt,6,9,"div",0),t.YNc(2,Mt,5,5,"div",0),t.TgZ(3,"div",19),t._UZ(4,"app-explanation-mark",20),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.fishCatchReport&&e.fishCatchReport.status===e.fishCatchReportEnum.completed),t.xp6(1),t.Q6J("ngIf",e.allData&&e.allData.length&&(!e.fishCatchReport||e.fishCatchReport.status===e.fishCatchReportEnum.draft)),t.xp6(2),t.Q6J("mainExplanation","fishCatch.mainExplanation")}}function Ft(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function yt(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function At(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function Zt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"p",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.openModalNewEntrie())}),t._UZ(1,"span",25),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"commonFields.createNew")," "))}function Rt(a,s){1&a&&t.YNc(0,Zt,4,3,"ng-template",23)}function Tt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.completeReportsDialog())}),t._UZ(1,"span",32),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.completeReport"),""))}function wt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.requestForAdditionalChanges())}),t._UZ(1,"span",34),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.requestAdminToChangeStatus"),""))}function Ot(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.noHaveFishCatchEntryDialog())}),t._UZ(1,"span",36),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.noHaveEntry"),""))}function Pt(a,s){if(1&a&&(t.TgZ(0,"div",26)(1,"div",27),t.YNc(2,Tt,4,3,"button",28),t.YNc(3,wt,4,3,"button",29),t.YNc(4,Ot,4,3,"button",30),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.allData&&e.allData.length&&(!e.fishCatchReport||e.fishCatchReport.status===e.fishCatchReportEnum.draft)),t.xp6(1),t.Q6J("ngIf",e.fishCatchReport&&e.fishCatchReport.status===e.fishCatchReportEnum.completed),t.xp6(1),t.Q6J("ngIf",!e.fishCatchReport||e.fishCatchReport.status!==e.fishCatchReportEnum.completed)}}function kt(a,s){1&a&&(t._UZ(0,"app-no-data",37),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.selectFbzToGetData"))("image","../../../assets/images/icons/filter.png")}function St(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"app-dynamic-grid",38,39),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw(2);return t.KtG(o.submit(n))})("refreshParentComponent",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.refreshGrid())})("emitValueForCustomForm",function(n){t.CHM(e);const o=t.oxw(2);return t.KtG(o.emitValueForCustomForm(n))}),t.qZA()()}if(2&a){const e=t.oxw(2),i=t.MAs(5);t.xp6(1),t.Q6J("path",e.path)("file",e.file)("data",e.data)("disableCRUD",!(e.fishCatchFilter&&e.fishCatchFilter.water)||e.fishCatchReport&&e.fishCatchReport.status===e.fishCatchReportEnum.completed)("template",i)("height","calc(100vh - 32vh)")}}function Nt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",8),t.YNc(2,vt,5,3,"div",9),t.TgZ(3,"div",10)(4,"label"),t._uU(5),t.ALo(6,"translate"),t._UZ(7,"app-explanation-mark",11),t.qZA(),t.TgZ(8,"ng-select",12),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.fishCatchFilter.managementRegisterId=n)})("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeManagementRegister(n))}),t.ALo(9,"translate"),t.YNc(10,Ft,2,2,"ng-template",13),t.YNc(11,yt,2,2,"ng-template",14),t.YNc(12,At,2,2,"ng-template",15),t.qZA()(),t.TgZ(13,"div",10)(14,"label"),t._uU(15),t.ALo(16,"translate"),t._UZ(17,"app-explanation-mark",11),t.qZA(),t.TgZ(18,"ng-select",16),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.fishCatchFilter.water=n)})("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeWater(n))}),t.ALo(19,"translate"),t.YNc(20,Rt,1,0,null,0),t.qZA()(),t.YNc(21,Pt,5,3,"div",17),t.qZA(),t.YNc(22,kt,2,4,"app-no-data",1),t.YNc(23,St,3,6,"div",0),t.qZA()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.fishCatchFilter.managementRegisterId),t.xp6(3),t.hij("",t.lcZ(6,17,"commonFields.fbz")," "),t.xp6(2),t.Q6J("explanation","fishCatch.explanation"),t.xp6(1),t.Q6J("items",e.managementRegistersData)("ngModel",e.fishCatchFilter.managementRegisterId)("placeholder",t.lcZ(9,19,"commonFields.chooseManagementRegistry"))("searchable",!0),t.xp6(7),t.hij("",t.lcZ(16,21,"commonFields.nameOfWater")," "),t.xp6(2),t.Q6J("explanation","fishCatch.explanationSecond"),t.xp6(1),t.Q6J("items",e.allWaters)("ngModel",e.fishCatchFilter.water)("placeholder",t.lcZ(19,23,"commonFields.chooseNameOfWater"))("searchable",!0),t.xp6(2),t.Q6J("ngIf",e.fishCatchFilter.managementRegisterId),t.xp6(1),t.Q6J("ngIf",e.fishCatchFilter.managementRegister),t.xp6(1),t.Q6J("ngIf",!e.fishCatchFilter.managementRegisterId),t.xp6(1),t.Q6J("ngIf",!e.loading&&e.fishCatchFilter.managementRegisterId)}}function Dt(a,s){1&a&&(t._UZ(0,"app-no-data",37),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.noManagementRegisterForYou"))("image","../../../assets/images/icons/no-data-for-user.png")}function Jt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",40)(1,"h5",41),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",42),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.dismiss("Cross click"))}),t.TgZ(5,"span",43),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",44)(8,"app-dynamic-forms",45,46),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.submitNewEntriesEmitter(n))}),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.Oqu(e.title?e.title:t.lcZ(3,3,"generalDialog.areYouSure")),t.xp6(6),t.Q6J("path","forms/owner")("file","new-entrie-name-of-water.json")}}function Qt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-custom-form-fish-catch",48),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw(2);return t.KtG(o.handleSubmit(n))}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("data",e.itemData)("config",e.config)("fishCatchFilter",e.fishCatchFilter)}}function Et(a,s){if(1&a&&t.YNc(0,Qt,1,3,"app-custom-form-fish-catch",47),2&a){const e=t.oxw();t.Q6J("ngIf",e.itemData)}}let qt=(()=>{class a{constructor(e,i,n,o,m,O){this._service=e,this._toastr=i,this._storageService=n,this._translate=o,this._modalService=m,this._helpService=O,this.path="grids/owner",this.file="fish-catch.json",this.fishCatchReport=new D.P,this.fishCatchFilter=new Z.r,this.loading=!0,this.fishCatchReportEnum=v.e,this.waterCustom=new J}unsavedChanges(){if(this.grid)return this.grid.unsavedChanges()}ngOnInit(){this.initialize()}initialize(){this._storageService.getValueFromLocalStorage("fish-catch-filter")?(this.fishCatchFilter=this._storageService.getValueFromLocalStorage("fish-catch-filter"),this.getFishCatchDetailsForManagementRegister()):this.fishCatchFilter=new Z.r,this._service.callGetMethod("/api/owner/getManagementRegistersData","").subscribe(e=>{this.managementRegistersData=e,e.length?this.fishCatchFilter.managementRegister?this.getWatersForSelectedManagementRegister(this.fishCatchFilter.managementRegister.fbz):this.data=[]:this.loading=!1})}getFishStockingReport(){this._service.callGetMethod("/api/owner/getFishCatchReport?fbz="+this.fishCatchFilter.managementRegister.fbz).subscribe(e=>{this.fishCatchReport=e?e[0]:new D.P})}getFishCatchDetailsForManagementRegister(){this.fishCatchFilter&&this.fishCatchFilter.managementRegister&&this._service.callGetMethod("/api/owner/getFishCatchDetailsForManagementRegister?fbz="+this.fishCatchFilter.managementRegister.fbz).subscribe(e=>{this.allData=e})}checkCompletedStatusReport(){return this.fishCatchReport&&this.fishCatchReport.status===v.e.completed}onChangeManagementRegister(e){this.fishCatchFilter.managementRegister=e,this.fishCatchFilter.water=null,this._storageService.setValueInLocalStorage("fish-catch-filter",this.fishCatchFilter),this.fishCatchFilter.managementRegister?(this.fishCatchFilter.managementRegisterId=e.id,this.getWatersForSelectedManagementRegister(e.fbz),this._storageService.setLocalStorage("selectedManagementRegistry",this.fishCatchFilter.managementRegister)):(this._storageService.deleteValueFromLocalStorage("fish-catch-filter"),this.fishCatchFilter=new Z.r,this.allWaters=null,this.refreshGrid())}getWatersForSelectedManagementRegister(e){this._service.callGetMethod("api/owner/getAllWaters?fbz="+e).subscribe(i=>{this.allWaters=i,1===i.length&&(this.fishCatchFilter.water=i[0].id),this.getFishStockingReport(),this.getFishCatchDetailsForSelectedWater()})}onChangeWater(){this.getFishCatchDetailsForSelectedWater(),this._storageService.setValueInLocalStorage("fish-catch-filter",this.fishCatchFilter)}getFishCatchDetailsForSelectedWater(){this.loading=!0,this.fishCatchFilter.managementRegister||this.fishCatchFilter.water?this._service.callGetMethod("api/owner/getFishCatchDetailsForSelectedWater?fbz="+this.fishCatchFilter.managementRegister.fbz+"&id_water="+this.fishCatchFilter.water).subscribe(e=>{this.data=e,this.loading=!1}):setTimeout(()=>{this.data=[],this.loading=!1},100)}submit(e){if(e.edible_fish_quantity<=e.quantity)e.stocked_fish_quantity=e.quantity-e.edible_fish_quantity;else if(e.edible_fish_quantity>e.quantity)return void this._toastr.showWarningCustom(this._translate.instant("actionMessage.successExecuteActionTextDefault"));e.fbz=this.fishCatchFilter.managementRegister.fbz,e.year=this.fishCatchFilter.managementRegister.year,e.id_water=this.fishCatchFilter.water,this.loading=!0,this._service.callPostMethod("/api/owner/setFishCatch",e).subscribe(i=>{i&&(this._toastr.showSuccess(),setTimeout(()=>{this.refreshGrid()},20))})}refreshGrid(){this.getFishCatchDetailsForSelectedWater(),this.getFishCatchDetailsForManagementRegister()}completeReportsDialog(){this.dialogConfirm.showQuestionModal()}requestForAdditionalChanges(){this.dialogRequestForAdditionalChanges.showQuestionModal()}confirmCompleteReport(){this.loading=!0,this.fishCatchReport={fbz:this.fishCatchFilter.managementRegister.fbz,year:this.fishCatchFilter.managementRegister.year,status:v.e.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/completeFishCatchReport",this.fishCatchReport).subscribe(e=>{e&&(this._toastr.showSuccess(),this.refreshGrid())})}requestToAdminForAdditionalChanges(){this._service.callPostMethod("/api/owner/requestToAdminForAdditionalFishCatchReportChanges",this.fishCatchReport).subscribe(e=>{e&&this._toastr.showSuccess()})}noHaveFishCatchEntryDialog(){this.dialogNoHaveEntry.showQuestionModal()}confirmNoHaveFishCatchEntry(){this.loading=!0,this.fishCatchReport={fbz:this.fishCatchFilter.managementRegister.fbz,year:this.fishCatchFilter.managementRegister.year,status:v.e.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/noHaveFishCatchEntry",this.fishCatchReport).subscribe(e=>{e&&(this.refreshGrid(),this._toastr.showSuccess())})}openModalNewEntrie(){setTimeout(()=>{this.modalDialog=this._modalService.open(this.modal,{centered:!0,windowClass:"modal modal-danger"})},20)}submitNewEntriesEmitter(e){this._helpService.checkUndefinedProperty(e)&&"submit"!=e.type&&(this.waterCustom={type_of_water:e.type_of_water,name:e.name,fbz:this.fishCatchFilter.managementRegister.fbz},this._service.callPostMethod("/api/owner/createNewWaterNameEntry",this.waterCustom).subscribe(i=>{this.getWatersForSelectedManagementRegister(this.fishCatchFilter.managementRegister.fbz),this.fishCatchFilter.water=i}))}emitValueForCustomForm(e){this.itemData=e||new lt,this.itemData.fbz=this.fishCatchFilter.managementRegister.fbz,this.itemData.year=this.fishCatchFilter.managementRegister.year,this.itemData.id_water=this.fishCatchFilter.water}handleSubmit(e){this.grid.closeEditForm(),setTimeout(()=>{this.refreshGrid()},20)}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(f.f),t.Y36(u.l),t.Y36(b.V),t.Y36(d.sK),t.Y36(_.FF),t.Y36(R.s))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-fish-catch"]],viewQuery:function(i,n){if(1&i&&(t.Gf(ht,5),t.Gf(ft,5),t.Gf(ut,5),t.Gf(Ct,5),t.Gf(bt,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.grid=o.first),t.iGM(o=t.CRH())&&(n.dialogConfirm=o.first),t.iGM(o=t.CRH())&&(n.dialogRequestForAdditionalChanges=o.first),t.iGM(o=t.CRH())&&(n.dialogNoHaveEntry=o.first),t.iGM(o=t.CRH())&&(n.modal=o.first)}},decls:24,vars:38,consts:[[4,"ngIf"],[3,"text","image",4,"ngIf"],["modalNewEntrie",""],["customForm",""],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirm",""],["dialogNoHaveEntry",""],["dialogRequestForAdditionalChanges",""],[1,"row"],["class","alert-message col-md-12 text-center",4,"ngIf"],[1,"mb-2","col-md-3"],[3,"explanation"],["bindLabel","fbz","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-value-tmp",""],["ng-option-tmp",""],["bindLabel","name","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],["class","col-md-6",4,"ngIf"],[1,"alert-message","col-md-12","text-center"],[1,"explanation"],[3,"mainExplanation"],[3,"type","dismissible"],[1,"alert-body"],["ng-footer-tmp",""],[1,"m-0","font-weight-bold","cursor-pointer",3,"click"],[1,"fa","fa-plus-circle"],[1,"col-md-6"],[1,"d-flex","justify-content-end","action"],["class","btn btn-success mb-1",3,"click",4,"ngIf"],["class","btn btn-primary mb-1",3,"click",4,"ngIf"],["class","btn btn-outline-danger mb-1 ml-1",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-1",3,"click"],[1,"fa","fa-check"],[1,"btn","btn-primary","mb-1",3,"click"],[1,"fa","fa-question-circle-o"],[1,"btn","btn-outline-danger","mb-1","ml-1",3,"click"],[1,"fa","fa-times"],[3,"text","image"],[3,"path","file","data","disableCRUD","template","height","submit","refreshParentComponent","emitValueForCustomForm"],["grid",""],[1,"modal-header"],["id","myModalLabel160",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["tabindex","0","ngbAutofocus","",1,"modal-body"],[3,"path","file","submit"],["form","dynamicForm"],[3,"data","config","fishCatchFilter","submit",4,"ngIf"],[3,"data","config","fishCatchFilter","submit"]],template:function(i,n){1&i&&(t.YNc(0,Nt,24,25,"div",0),t.YNc(1,Dt,2,4,"app-no-data",1),t.YNc(2,Jt,10,5,"ng-template",null,2,t.W1O),t.YNc(4,Et,1,1,"ng-template",null,3,t.W1O),t.TgZ(6,"app-dialog-confirm",4,5),t.NdJ("confirm",function(){return n.confirmCompleteReport()}),t.ALo(8,"translate"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"app-dialog-confirm",4,6),t.NdJ("confirm",function(){return n.confirmNoHaveFishCatchEntry()}),t.ALo(14,"translate"),t.ALo(15,"translate"),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"app-dialog-confirm",4,7),t.NdJ("confirm",function(){return n.requestToAdminForAdditionalChanges()}),t.ALo(20,"translate"),t.ALo(21,"translate"),t.ALo(22,"translate"),t.ALo(23,"translate"),t.qZA()),2&i&&(t.Q6J("ngIf",n.managementRegistersData&&n.managementRegistersData.length),t.xp6(1),t.Q6J("ngIf",!(n.managementRegistersData&&n.managementRegistersData.length||n.loading)),t.xp6(5),t.Q6J("title",t.lcZ(8,14,"actionMessage.dialogCompleteReportQuestionTitle"))("content",t.lcZ(9,16,"actionMessage.dialogCompleteReportQuestionText"))("confirmButtonText",t.lcZ(10,18,"actionMessage.dialogCompleteReportQuestionYes"))("cancelButtonText",t.lcZ(11,20,"actionMessage.dialogCompleteReportQuestionNo")),t.xp6(6),t.Q6J("title",t.lcZ(14,22,"actionMessage.dialogNoHaveReportsTitle"))("content",t.lcZ(15,24,"actionMessage.dialogNoHaveReportsText"))("confirmButtonText",t.lcZ(16,26,"generalDialog.yes"))("cancelButtonText",t.lcZ(17,28,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(20,30,"actionMessage.dialogRequestForAdditionalChangesTitle"))("content",t.lcZ(21,32,"actionMessage.dialogRequestForAdditionalChangesText"))("confirmButtonText",t.lcZ(22,34,"generalDialog.yes"))("cancelButtonText",t.lcZ(23,36,"generalDialog.no")))},dependencies:[g.O5,c.JJ,c.On,h.d,F.b,p.N,l.w9,l.Z2,l.bb,l.x0,x.p,M.d,_.xm,pt,g.uU,d.X$],styles:["tbody{background:#fff}\n"],encapsulation:2})}return a})();var Lt=r(4306),T=r(3880),Gt=r(8926),Bt=r(7825),y=r(5255);const Ht=["dialogConfirm"],It=["dialogNoHaveEntry"],Ut=["dialogRequestForAdditionalChanges"],Yt=["modalNewEntrie"];function zt(a,s){if(1&a&&(t.TgZ(0,"div")(1,"ngb-alert",20)(2,"div",21),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA()()()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(4,4,"actionMessage.reportCompleted")," ",t.xi3(5,6,e.report.date_completed,"dd.MM.yyyy. HH:mm"),"")}}function Kt(a,s){1&a&&(t.TgZ(0,"div")(1,"ngb-alert",20)(2,"div",21),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(4,3,"actionMessage.reportCompletedNotYet")))}function Vt(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function Wt(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function jt(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function Xt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"p",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.openModalNewEntrie())}),t._UZ(1,"span",24),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"commonFields.createNew")," "))}function $t(a,s){1&a&&t.YNc(0,Xt,4,3,"ng-template",22)}function te(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.completeReportsDialog())}),t._UZ(1,"span",31),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.completeReport"),""))}function ee(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.requestForAdditionalChanges())}),t._UZ(1,"span",33),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.requestAdminToChangeStatus"),""))}function ae(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.noHaveEntryDialog())}),t._UZ(1,"span",35),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.noHaveEntry"),""))}function ne(a,s){if(1&a&&(t.TgZ(0,"div",25)(1,"div",26),t.YNc(2,te,4,3,"button",27),t.YNc(3,ee,4,3,"button",28),t.YNc(4,ae,4,3,"button",29),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.report||e.report.status===e.reportStatusEnum.draft),t.xp6(1),t.Q6J("ngIf",e.report&&e.report.status===e.reportStatusEnum.completed),t.xp6(1),t.Q6J("ngIf",!e.report||e.report.status!==e.reportStatusEnum.completed)}}function ie(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-dynamic-grid",36,37),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw(2);return t.KtG(o.submit(n))})("refreshParentComponent",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.refreshGrid())}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("path",e.path)("file",e.file)("data",e.data)("disableCRUD",!(e.filter&&e.filter.water)||e.report&&e.report.status===e.reportStatusEnum.completed)("hideCreateNew",!0)("height","calc(100vh - 25vh)")}}function oe(a,s){1&a&&(t._UZ(0,"app-no-data",38),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.pleaseSelectNameOfWater"))("image","../../../assets/images/icons/filter.png")}function se(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",7)(2,"div",8),t.YNc(3,zt,6,9,"div",0),t.YNc(4,Kt,5,5,"div",0),t.TgZ(5,"div",9),t._UZ(6,"app-explanation-mark",10),t.qZA()(),t.TgZ(7,"div",11)(8,"label"),t._uU(9),t.ALo(10,"translate"),t._UZ(11,"app-explanation-mark",12),t.qZA(),t.TgZ(12,"ng-select",13),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.filter.managementRegisterId=n)})("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeManagementRegister(n))}),t.ALo(13,"translate"),t.YNc(14,Vt,2,2,"ng-template",14),t.YNc(15,Wt,2,2,"ng-template",15),t.YNc(16,jt,2,2,"ng-template",16),t.qZA()(),t.TgZ(17,"div",11)(18,"label"),t._uU(19),t.ALo(20,"translate"),t._UZ(21,"app-explanation-mark",12),t.qZA(),t.TgZ(22,"ng-select",17),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.filter.water=n)})("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeWater(n))}),t.ALo(23,"translate"),t.YNc(24,$t,1,0,null,0),t.qZA()(),t.YNc(25,ne,5,3,"div",18),t.qZA(),t.YNc(26,ie,2,6,"app-dynamic-grid",19),t.YNc(27,oe,2,4,"app-no-data",1),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.report&&e.report.status===e.reportStatusEnum.completed),t.xp6(1),t.Q6J("ngIf",e.allData&&e.allData.length&&(!e.report||e.report.status===e.reportStatusEnum.draft)),t.xp6(2),t.Q6J("mainExplanation","birdCount.mainExplanation"),t.xp6(3),t.hij("",t.lcZ(10,19,"commonFields.fbz")," "),t.xp6(2),t.Q6J("explanation","birdCount.explanation"),t.xp6(1),t.Q6J("items",e.managementRegistersData)("ngModel",e.filter.managementRegisterId)("placeholder",t.lcZ(13,21,"commonFields.chooseManagementRegistry"))("searchable",!0),t.xp6(7),t.hij("",t.lcZ(20,23,"commonFields.nameOfWater")," "),t.xp6(2),t.Q6J("explanation","birdCount.explanationSecond"),t.xp6(1),t.Q6J("items",e.allWaters)("ngModel",e.filter.water)("placeholder",t.lcZ(23,25,"commonFields.chooseNameOfWater"))("searchable",!0),t.xp6(2),t.Q6J("ngIf",e.filter.managementRegisterId),t.xp6(1),t.Q6J("ngIf",e.filter),t.xp6(1),t.Q6J("ngIf",!e.loading&&e.data&&e.filter&&e.filter.water),t.xp6(1),t.Q6J("ngIf",!e.filter||!e.filter.water)}}function re(a,s){1&a&&t._UZ(0,"app-loader")}function le(a,s){1&a&&(t._UZ(0,"app-no-data",38),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.noManagementRegisterForYou"))("image","../../../assets/images/icons/no-data-for-user.png")}function ce(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",39)(1,"h5",40),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",41),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.dismiss("Cross click"))}),t.TgZ(5,"span",42),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",43)(8,"app-dynamic-forms",44,45),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.submitNewEntriesEmitter(n))}),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.Oqu(e.title?e.title:t.lcZ(3,3,"generalDialog.areYouSure")),t.xp6(6),t.Q6J("path","forms/owner")("file","new-entrie-name-of-water.json")}}let ge=(()=>{class a{constructor(e,i,n,o,m,O){this._service=e,this._storageService=i,this._toastr=n,this._modalService=o,this._helpService=m,this._translate=O,this.path="grids/owner",this.file="bird-count.json",this.filter=new T.G,this.data=[],this.reportStatusEnum=y.x,this.loading=!1,this.waterCustom=new J}ngOnInit(){this.getManagementRegistersData(),this._storageService.getValueFromLocalStorage("bird-count-filter")?(this.filter=this._storageService.getValueFromLocalStorage("bird-count-filter"),this.filter.water?this.getBirdCountForSelectedWater():this.data=[]):this.filter=new T.G}getManagementRegistersData(){this._service.callGetMethod("/api/owner/getManagementRegistersData","").subscribe(e=>{this.managementRegistersData=e,e.length&&(this.filter.managementRegister?this.getWatersForSelectedManagementRegister(this.filter.managementRegister.fbz):this.data=[])})}getWatersForSelectedManagementRegister(e){this._service.callGetMethod("api/owner/getAllWaters?fbz="+e).subscribe(i=>{this.allWaters=i,1===i.length&&(this.filter.water=i[0].id,this.getBirdCountForSelectedWater()),this.getBirdCountReport()})}getBirdCountForSelectedWater(){this.initializeDefaultData(),this.loading=!0,this._service.callGetMethod("api/owner/getBirdCountForSelectedWater?fbz="+this.filter.managementRegister.fbz+"&id_water="+this.filter.water).subscribe(e=>{this.prepackedData(e),this.loading=!1})}getBirdCountReport(){this._service.callGetMethod("/api/owner/getBirdCountReport?fbz="+this.filter.managementRegister.fbz).subscribe(e=>{this.report=e?e[0]:new Bt.v})}onChangeManagementRegister(e){this.loading=!0,setTimeout(()=>{this.data=[],this.loading=!1},1),this.filter.managementRegister=e,this.filter.water=null,this._storageService.setValueInLocalStorage("bird-count-filter",this.filter),this.filter.managementRegister?(this.filter.managementRegisterId=e.id,this.getWatersForSelectedManagementRegister(e.fbz),this._storageService.setValueInLocalStorage("bird-count-filter",this.filter)):(this._storageService.deleteValueFromLocalStorage("bird-count-filter"),this.allWaters=null,this.filter=new T.G)}onChangeWater(){this.getBirdCountForSelectedWater(),this._storageService.setValueInLocalStorage("bird-count-filter",this.filter)}initializeDefaultData(){this.data=(new Gt.t).data;const e=this.filter.managementRegister.year;for(let i=0;i<this.data.length;i++)this.data[i].date=this.data[i].date.replace("#currentYear",e.toString())}prepackedData(e){for(let i=0;i<e.length;i++)for(let n=0;n<this.data.length;n++)if(this.data[n].date===e[i].date){this.data[n]=e[i];break}}submit(e){e.fbz=this.filter.managementRegister.fbz,e.year=this.filter.managementRegister.year,e.id_water=this.filter.water,this._service.callPostMethod("/api/owner/setBirdCount",e).subscribe(i=>{i&&(this.getBirdCountForSelectedWater(),this._toastr.showSuccess())})}refreshGrid(){this.getBirdCountForSelectedWater()}completeReportsDialog(){this.dialogConfirm.showQuestionModal()}confirmCompleteReport(){this.loading=!0,this.report={fbz:this.filter.managementRegister.fbz,year:this.filter.managementRegister.year,status:y.x.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/completeBirdCountReport",this.report).subscribe(e=>{e&&(this._toastr.showSuccess(),this.refreshGrid())})}noHaveEntryDialog(){this.dialogNoHaveEntry.showQuestionModal()}confirmNoHaveEntry(){this.loading=!0,this.report={fbz:this.filter.managementRegister.fbz,year:this.filter.managementRegister.year,status:this.reportStatusEnum.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/noHaveBirdCountEntry",this.report).subscribe(e=>{e&&(this.refreshGrid(),this._toastr.showSuccess())})}requestForAdditionalChanges(){this.dialogRequestForAdditionalChanges.showQuestionModal()}requestToAdminForAdditionalChanges(){this._service.callPostMethod("/api/owner/requestToAdminForAdditionalBirdCountReportChanges",this.report).subscribe(e=>{e&&this._toastr.showSuccess()})}openModalNewEntrie(){setTimeout(()=>{this.modalDialog=this._modalService.open(this.modal,{centered:!0,windowClass:"modal modal-danger"})},20)}submitNewEntriesEmitter(e){this._helpService.checkUndefinedProperty(e)&&"submit"!=e.type&&(this.waterCustom={type_of_water:e.type_of_water,name:e.name,fbz:this.filter.managementRegister.fbz},this._service.callPostMethod("/api/owner/createNewWaterNameEntry",this.waterCustom).subscribe(i=>{this.getWatersForSelectedManagementRegister(this.filter.managementRegister.fbz),this.filter.water=i,this.loading=!0,setTimeout(()=>{this.initializeDefaultData(),this.loading=!1},10),this.modalDialog.close()}))}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(f.f),t.Y36(b.V),t.Y36(u.l),t.Y36(_.FF),t.Y36(R.s),t.Y36(d.sK))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-bird-count"]],viewQuery:function(i,n){if(1&i&&(t.Gf(Ht,5),t.Gf(It,5),t.Gf(Ut,5),t.Gf(Yt,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.dialogConfirm=o.first),t.iGM(o=t.CRH())&&(n.dialogNoHaveEntry=o.first),t.iGM(o=t.CRH())&&(n.dialogRequestForAdditionalChanges=o.first),t.iGM(o=t.CRH())&&(n.modal=o.first)}},decls:23,vars:39,consts:[[4,"ngIf"],[3,"text","image",4,"ngIf"],["modalNewEntrie",""],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirm",""],["dialogNoHaveEntry",""],["dialogRequestForAdditionalChanges",""],[1,"row"],[1,"alert-message","col-md-12","text-center"],[1,"explanation"],[3,"mainExplanation"],[1,"mb-2","col-md-3"],[3,"explanation"],["bindLabel","fbz","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-value-tmp",""],["ng-option-tmp",""],["bindLabel","name","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],["class","col-md-6",4,"ngIf"],[3,"path","file","data","disableCRUD","hideCreateNew","height","submit","refreshParentComponent",4,"ngIf"],[3,"type","dismissible"],[1,"alert-body"],["ng-footer-tmp",""],[1,"m-0","font-weight-bold","cursor-pointer",3,"click"],[1,"fa","fa-plus-circle"],[1,"col-md-6"],[1,"d-flex","justify-content-end","action"],["class","btn btn-success mb-1",3,"click",4,"ngIf"],["class","btn btn-primary mb-1",3,"click",4,"ngIf"],["class","btn btn-outline-danger mb-1 ml-1",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-1",3,"click"],[1,"fa","fa-check"],[1,"btn","btn-primary","mb-1",3,"click"],[1,"fa","fa-question-circle-o"],[1,"btn","btn-outline-danger","mb-1","ml-1",3,"click"],[1,"fa","fa-times"],[3,"path","file","data","disableCRUD","hideCreateNew","height","submit","refreshParentComponent"],["grid",""],[3,"text","image"],[1,"modal-header"],["id","myModalLabel160",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["tabindex","0","ngbAutofocus","",1,"modal-body"],[3,"path","file","submit"],["form","dynamicForm"]],template:function(i,n){1&i&&(t.YNc(0,se,28,27,"div",0),t.YNc(1,re,1,0,"app-loader",0),t.YNc(2,le,2,4,"app-no-data",1),t.YNc(3,ce,10,5,"ng-template",null,2,t.W1O),t.TgZ(5,"app-dialog-confirm",3,4),t.NdJ("confirm",function(){return n.confirmCompleteReport()}),t.ALo(7,"translate"),t.ALo(8,"translate"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"app-dialog-confirm",3,5),t.NdJ("confirm",function(){return n.confirmNoHaveEntry()}),t.ALo(13,"translate"),t.ALo(14,"translate"),t.ALo(15,"translate"),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"app-dialog-confirm",3,6),t.NdJ("confirm",function(){return n.requestToAdminForAdditionalChanges()}),t.ALo(19,"translate"),t.ALo(20,"translate"),t.ALo(21,"translate"),t.ALo(22,"translate"),t.qZA()),2&i&&(t.Q6J("ngIf",n.managementRegistersData&&n.managementRegistersData.length),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!(n.managementRegistersData&&n.managementRegistersData.length||n.loading)),t.xp6(3),t.Q6J("title",t.lcZ(7,15,"actionMessage.dialogCompleteReportQuestionTitle"))("content",t.lcZ(8,17,"actionMessage.dialogCompleteReportQuestionText"))("confirmButtonText",t.lcZ(9,19,"actionMessage.dialogCompleteReportQuestionYes"))("cancelButtonText",t.lcZ(10,21,"actionMessage.dialogCompleteReportQuestionNo")),t.xp6(6),t.Q6J("title",t.lcZ(13,23,"actionMessage.dialogNoHaveReportsTitle"))("content",t.lcZ(14,25,"actionMessage.dialogNoHaveReportsText"))("confirmButtonText",t.lcZ(15,27,"generalDialog.yes"))("cancelButtonText",t.lcZ(16,29,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(19,31,"actionMessage.dialogRequestForAdditionalChangesTitle"))("content",t.lcZ(20,33,"actionMessage.dialogRequestForAdditionalChangesText"))("confirmButtonText",t.lcZ(21,35,"generalDialog.yes"))("cancelButtonText",t.lcZ(22,37,"generalDialog.no")))},dependencies:[g.O5,c.JJ,c.On,h.d,F.b,p.N,l.w9,l.Z2,l.bb,l.x0,x.p,A.R,M.d,_.xm,g.uU,d.X$]})}return a})();var de=r(8213);class w{}var me=r(6858),_e=r(2684),pe=r(7350);const he=["grid"],fe=["dialogConfirm"],ue=["dialogNoHaveEntry"],Ce=["dialogRequestForAdditionalChanges"],be=["modalNewEntrie"];function xe(a,s){if(1&a&&(t.TgZ(0,"div")(1,"ngb-alert",20)(2,"div",21),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA()()()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(4,4,"actionMessage.reportCompleted")," ",t.xi3(5,6,e.report.date_completed,"dd.MM.yyyy. HH:mm"),"")}}function Me(a,s){1&a&&(t.TgZ(0,"div")(1,"ngb-alert",20)(2,"div",21),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(4,3,"actionMessage.reportCompletedNotYet")))}function ve(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function Fe(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function ye(a,s){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=s.item;t.xp6(1),t.AsE("",e.fbz," - ",e.year,"")}}function Ae(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.completeReportsDialog())}),t._UZ(1,"span",28),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.completeReport"),""))}function Ze(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.requestForAdditionalChanges())}),t._UZ(1,"span",30),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.requestAdminToChangeStatus"),""))}function Re(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.noHaveEntryDialog())}),t._UZ(1,"span",32),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.noHaveEntry"),""))}function Te(a,s){if(1&a&&(t.TgZ(0,"div",22)(1,"div",23),t.YNc(2,Ae,4,3,"button",24),t.YNc(3,Ze,4,3,"button",25),t.YNc(4,Re,4,3,"button",26),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.report||e.report.status===e.reportStatusEnum.draft),t.xp6(1),t.Q6J("ngIf",e.report&&e.report.status===e.reportStatusEnum.completed),t.xp6(1),t.Q6J("ngIf",!e.report||e.report.status!==e.reportStatusEnum.completed)}}function we(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-dynamic-grid",33,34),t.NdJ("emitValueForCustomForm",function(n){t.CHM(e);const o=t.oxw(2);return t.KtG(o.emitValueForCustomForm(n))})("refreshParentComponent",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.refreshGrid())}),t.qZA()}if(2&a){const e=t.oxw(2),i=t.MAs(6);t.Q6J("path",e.path)("file",e.file)("data",e.data)("disableCRUD",!(e.filter&&e.filter.managementRegisterId)||e.report&&e.report.status===e.reportStatusEnum.completed)("template",i)("modalDialogSize","modal-dialog-large")("height","calc(100vh - 32vh)")}}function Oe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",8)(2,"div",9),t.YNc(3,xe,6,9,"div",0),t.YNc(4,Me,5,5,"div",0),t.TgZ(5,"div",10),t._UZ(6,"app-explanation-mark",11),t.qZA()(),t.TgZ(7,"div",12)(8,"label"),t._uU(9),t.ALo(10,"translate"),t._UZ(11,"app-explanation-mark",13),t.qZA(),t.TgZ(12,"ng-select",14),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.filter.managementRegisterId=n)})("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeManagementRegister(n))}),t.ALo(13,"translate"),t.YNc(14,ve,2,2,"ng-template",15),t.YNc(15,Fe,2,2,"ng-template",16),t.YNc(16,ye,2,2,"ng-template",17),t.qZA()(),t.YNc(17,Te,5,3,"div",18),t.qZA(),t.YNc(18,we,2,7,"app-dynamic-grid",19),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.report&&e.report.status===e.reportStatusEnum.completed),t.xp6(1),t.Q6J("ngIf",e.data&&e.data.length&&(!e.report||e.report.status===e.reportStatusEnum.draft)),t.xp6(2),t.Q6J("mainExplanation","birdDamage.mainExplanation"),t.xp6(3),t.hij("",t.lcZ(10,11,"commonFields.fbz")," "),t.xp6(2),t.Q6J("explanation","birdDamage.explanation"),t.xp6(1),t.Q6J("items",e.managementRegistersData)("ngModel",e.filter.managementRegisterId)("placeholder",t.lcZ(13,13,"commonFields.chooseManagementRegistry"))("searchable",!0),t.xp6(5),t.Q6J("ngIf",e.filter.managementRegister),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function Pe(a,s){1&a&&t._UZ(0,"app-loader")}function ke(a,s){1&a&&(t._UZ(0,"app-no-data",35),t.ALo(1,"translate")),2&a&&t.Q6J("text",t.lcZ(1,2,"general.noManagementRegisterForYou"))("image","../../../assets/images/icons/no-data-for-user.png")}function Se(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",36)(1,"h5",37),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",38),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.dismiss("Cross click"))}),t.TgZ(5,"span",39),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",40)(8,"app-dynamic-forms",41,42),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.submitNewEntriesEmitter(n))}),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.Oqu(e.title?e.title:t.lcZ(3,3,"generalDialog.areYouSure")),t.xp6(6),t.Q6J("path","forms/owner")("file","new-entrie-name-of-water.json")}}function Ne(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-custom-form-bird-damage",44),t.NdJ("submit",function(n){t.CHM(e);const o=t.oxw(2);return t.KtG(o.handleSubmit(n))}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("data",e.itemData)}}function De(a,s){if(1&a&&t.YNc(0,Ne,1,1,"app-custom-form-bird-damage",43),2&a){const e=t.oxw();t.Q6J("ngIf",e.itemData)}}let Je=(()=>{class a{constructor(e,i,n,o){this._service=e,this._storageService=i,this._toastr=n,this._messageService=o,this.path="grids/owner",this.file="bird-damage.json",this.filter=new w,this.data=[],this.reportStatusEnum=y.x,this.loading=!1}ngOnInit(){this.getManagementRegistersData(),this.filter=this._storageService.getValueFromLocalStorage("bird-damage-filter")?this._storageService.getValueFromLocalStorage("bird-damage-filter"):new w,this.getDataForGrid(),this.getReport()}getManagementRegistersData(){this._service.callGetMethod("/api/owner/getManagementRegistersData","").subscribe(e=>{this.managementRegistersData=e})}getDataForGrid(){this.loading=!0,this._service.callGetMethod("api/owner/getBirdDamage?fbz="+(this.filter.managementRegister&&this.filter.managementRegister.fbz)).subscribe(e=>{this.data=e,this.loading=!1})}getReport(){this._service.callGetMethod("/api/owner/getBirdDamageReport?fbz="+this.filter.managementRegister.fbz).subscribe(e=>{this.report=e?e[0]:new me.O})}onChangeManagementRegister(e){this.filter.managementRegister=e,this._storageService.setValueInLocalStorage("bird-damage-filter",this.filter),this.filter.managementRegister?this._storageService.setValueInLocalStorage("bird-damage-filter",this.filter):(this._storageService.deleteValueFromLocalStorage("bird-damage-filter"),this.filter=new w),this.getDataForGrid(),this.getReport()}emitValueForCustomForm(e){this.itemData=e||new de.Su,this.itemData.fbz=this.filter.managementRegister.fbz,this.itemData.year=this.filter.managementRegister.year}refreshGrid(){this.getDataForGrid()}completeReportsDialog(){this.dialogConfirm.showQuestionModal()}confirmCompleteReport(){this.loading=!0,this.report={fbz:this.filter.managementRegister.fbz,year:this.filter.managementRegister.year,status:y.x.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/completeBirdDamageReport",this.report).subscribe(e=>{e&&(this._toastr.showSuccess(),this.refreshGrid())})}noHaveEntryDialog(){this.dialogNoHaveEntry.showQuestionModal()}confirmNoHaveEntry(){this.loading=!0,this.report={fbz:this.filter.managementRegister.fbz,year:this.filter.managementRegister.year,status:this.reportStatusEnum.completed,date_completed:new Date},this._service.callPostMethod("/api/owner/noHaveBirdDamageEntry",this.report).subscribe(e=>{e&&(this.refreshGrid(),this._toastr.showSuccess())})}requestForAdditionalChanges(){this.dialogRequestForAdditionalChanges.showQuestionModal()}requestToAdminForAdditionalChanges(){this._service.callPostMethod("/api/owner/requestToAdminForAdditionalBirdCountReportChanges",this.report).subscribe(e=>{e&&this._toastr.showSuccess()})}handleSubmit(e){this.grid.closeEditForm(),this.getDataForGrid()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(f.f),t.Y36(b.V),t.Y36(u.l),t.Y36(_e.e))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-bird-damage"]],viewQuery:function(i,n){if(1&i&&(t.Gf(he,5),t.Gf(fe,5),t.Gf(ue,5),t.Gf(Ce,5),t.Gf(be,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.grid=o.first),t.iGM(o=t.CRH())&&(n.dialogConfirm=o.first),t.iGM(o=t.CRH())&&(n.dialogNoHaveEntry=o.first),t.iGM(o=t.CRH())&&(n.dialogRequestForAdditionalChanges=o.first),t.iGM(o=t.CRH())&&(n.modal=o.first)}},decls:25,vars:39,consts:[[4,"ngIf"],[3,"text","image",4,"ngIf"],["modalNewEntrie",""],["customFormBirdDamage",""],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirm",""],["dialogNoHaveEntry",""],["dialogRequestForAdditionalChanges",""],[1,"row"],[1,"alert-message","col-md-12","text-center"],[1,"explanation"],[3,"mainExplanation"],[1,"mb-2","col-md-3"],[3,"explanation"],["bindLabel","fbz","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],["ng-label-tmp",""],["ng-value-tmp",""],["ng-option-tmp",""],["class","col-md-9",4,"ngIf"],[3,"path","file","data","disableCRUD","template","modalDialogSize","height","emitValueForCustomForm","refreshParentComponent",4,"ngIf"],[3,"type","dismissible"],[1,"alert-body"],[1,"col-md-9"],[1,"d-flex","justify-content-end","action"],["class","btn btn-success mb-1",3,"click",4,"ngIf"],["class","btn btn-primary mb-1",3,"click",4,"ngIf"],["class","btn btn-outline-danger mb-1 ml-1",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-1",3,"click"],[1,"fa","fa-check"],[1,"btn","btn-primary","mb-1",3,"click"],[1,"fa","fa-question-circle-o"],[1,"btn","btn-outline-danger","mb-1","ml-1",3,"click"],[1,"fa","fa-times"],[3,"path","file","data","disableCRUD","template","modalDialogSize","height","emitValueForCustomForm","refreshParentComponent"],["grid",""],[3,"text","image"],[1,"modal-header"],["id","myModalLabel160",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["tabindex","0","ngbAutofocus","",1,"modal-body"],[3,"path","file","submit"],["form","dynamicForm"],[3,"data","submit",4,"ngIf"],[3,"data","submit"]],template:function(i,n){1&i&&(t.YNc(0,Oe,19,15,"div",0),t.YNc(1,Pe,1,0,"app-loader",0),t.YNc(2,ke,2,4,"app-no-data",1),t.YNc(3,Se,10,5,"ng-template",null,2,t.W1O),t.YNc(5,De,1,1,"ng-template",null,3,t.W1O),t.TgZ(7,"app-dialog-confirm",4,5),t.NdJ("confirm",function(){return n.confirmCompleteReport()}),t.ALo(9,"translate"),t.ALo(10,"translate"),t.ALo(11,"translate"),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"app-dialog-confirm",4,6),t.NdJ("confirm",function(){return n.confirmNoHaveEntry()}),t.ALo(15,"translate"),t.ALo(16,"translate"),t.ALo(17,"translate"),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"app-dialog-confirm",4,7),t.NdJ("confirm",function(){return n.requestToAdminForAdditionalChanges()}),t.ALo(21,"translate"),t.ALo(22,"translate"),t.ALo(23,"translate"),t.ALo(24,"translate"),t.qZA()),2&i&&(t.Q6J("ngIf",n.managementRegistersData&&n.managementRegistersData.length),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!(n.managementRegistersData&&n.managementRegistersData.length||n.loading)),t.xp6(5),t.Q6J("title",t.lcZ(9,15,"actionMessage.dialogCompleteReportQuestionTitle"))("content",t.lcZ(10,17,"actionMessage.dialogCompleteReportQuestionText"))("confirmButtonText",t.lcZ(11,19,"actionMessage.dialogCompleteReportQuestionYes"))("cancelButtonText",t.lcZ(12,21,"actionMessage.dialogCompleteReportQuestionNo")),t.xp6(6),t.Q6J("title",t.lcZ(15,23,"actionMessage.dialogNoHaveReportsTitle"))("content",t.lcZ(16,25,"actionMessage.dialogNoHaveReportsText"))("confirmButtonText",t.lcZ(17,27,"generalDialog.yes"))("cancelButtonText",t.lcZ(18,29,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(21,31,"actionMessage.dialogRequestForAdditionalChangesTitle"))("content",t.lcZ(22,33,"actionMessage.dialogRequestForAdditionalChangesText"))("confirmButtonText",t.lcZ(23,35,"generalDialog.yes"))("cancelButtonText",t.lcZ(24,37,"generalDialog.no")))},dependencies:[g.O5,c.JJ,c.On,h.d,F.b,p.N,l.w9,l.Z2,l.bb,x.p,A.R,M.d,_.xm,pe._,g.uU,d.X$]})}return a})();var Qe=r(607);const Ee=[{path:"fish-stocking",component:st,canDeactivate:[S.T]},{path:"observation-sheet",component:q,canDeactivate:[S.T]},{path:"fish-catch",component:qt},{path:"bird-count",component:ge},{path:"bird-damage",component:Je}];let qe=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[g.ez,c.u5,k.Bz.forChild(Ee),Q.w,l.A0,rt.$,d.aw,_._A,Lt.xD,Qe.I,k.Bz]})}return a})()}}]);